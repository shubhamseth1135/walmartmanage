@model IEnumerable<WalmartManagementApplication.Models.membership_cards>

@{
    Layout = "~/Views/Shared/_employeelayout.cshtml";
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Index</title>
</head>
@{
    if (Session["error"] != null)
    {
        <h3 class="text-danger" style="text-align:center">@Session["error"]</h3>
        Session["error"] = null;
    }
}
<body>
    <br />
    <br />
    <p>
        
    </p>
    <table class="table table-striped table-bordered">
        <tr>
            <th>
                Sno.
            </th>
            <th>
               @Html.Label("Cardholder Name")
            </th>
            <th>
                @Html.Label("Member Photo")
            <th>
                @Html.Label("Member ID")
            </th>
            </th>
            <th>
                @Html.Label("Merchant Name")
            </th>
            <th>
                @Html.Label("Card Number")
            </th>
          
            <th>
                @Html.Label("Mobile Number")
            </th>
            <th>
                @Html.Label("Address")
            </th>
            
            <th></th>
        </tr>
    
   @{
               int count = 0;

               foreach (var item in Model)
               {
                   count++;
                   using (Html.BeginForm("Delete", "membership_cards", new { id = item.cardnumber }))
                   {
        <tr>
            <td>
                @count
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.cardholdernname)
            </td>
            <td>

                <img height="80" width="80" src= "@Url.Content(item.photo)" />

            </td>
            <td>
                @Html.DisplayFor(modelItem => item.membership.memberid)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.membership.merchantname)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.cardnumber)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Mobileno)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.address)
            </td>


            <td>
                @Html.ActionLink("Edit", "Edit", new { id = item.cardnumber })
                <input type="submit" value="Delete" class="btn btn-danger" onclick="return confirm('Are You Sure You Want To Delete?')" />
            </td>
        </tr>
               }
   }
       }
    </table>
</body>
</html>
